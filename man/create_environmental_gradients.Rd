% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gradients.R
\name{create_environmental_gradients}
\alias{create_environmental_gradients}
\title{Create synthetic environmental gradients over a spatial domain}
\usage{
create_environmental_gradients(domain, resolution, noise_level)
}
\arguments{
\item{domain}{An \code{sf} polygon object defining the extent over which
gradients will be computed. Only its bounding box is used in this step.}

\item{resolution}{Integer ≥ 2; number of grid steps per axis. The output
will contain \code{resolution^2} rows.}

\item{noise_level}{Non-negative numeric; standard deviation of Gaussian
noise added independently to each gradient before clipping.}
}
\value{
A \code{data.frame} with columns:
\describe{
\item{\code{x, y}}{Grid point coordinates (same CRS as \code{domain}).}
\item{\code{temperature, elevation, rainfall}}{Normalised gradients in \eqn{[0, 1]}.}
\item{\code{temperature_C}}{Temperature in degrees Celsius (approx. range: -2 to 28).}
\item{\code{elevation_m}}{Elevation in metres (0–2000).}
\item{\code{rainfall_mm}}{Annual rainfall in millimetres (200–900).}
}
}
\description{
Generates three continuous, spatially autocorrelated environmental
gradients — temperature, elevation, and rainfall — over a regular grid
covering the specified polygonal study area. The gradients are expressed
in both normalised \eqn{[0, 1]} form and scaled to physical units.
}
\details{
The function:
\enumerate{
\item Derives the bounding box of \code{domain} and constructs a
regular \code{resolution} × \code{resolution} grid of points.
\item Normalises \eqn{x} and \eqn{y} coordinates to \eqn{[0, 1]}.
\item Computes:
\itemize{
\item \strong{Temperature}: weighted linear combination of
normalised \eqn{x} (0.7) and \eqn{y} (0.3) coordinates.
\item \strong{Elevation}: decreases radially from domain centre.
\item \strong{Rainfall}: weighted difference of \eqn{x} and \eqn{y}
components, rescaled to \eqn{[0, 1]}.
}
\item Adds Gaussian noise with standard deviation \code{noise_level}
to each raw gradient before clipping to \eqn{[0, 1]}.
\item Produces scaled versions in common physical units:
\code{temperature_C} (°C), \code{elevation_m} (metres),
and \code{rainfall_mm} (millimetres/year).
}

Note that gradients are computed for all grid points within the
\emph{bounding box} of \code{domain}; no masking to the polygon interior
is applied here. Masking can be done later with \code{\link[sf]{st_intersects}}
or similar.
}
\examples{
\dontrun{
domain <- create_sampling_domain()
env <- create_environmental_gradients(domain, resolution = 50, noise_level = 0.05)
head(env)
}

}
\seealso{
\code{\link[sf]{st_bbox}}, \code{\link[sf]{st_intersects}}
}
